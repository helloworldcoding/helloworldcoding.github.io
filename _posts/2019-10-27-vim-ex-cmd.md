---
layout: post
title: "Ex command in Vim(part 1)"
description: "vim range"
tags: [vim,Ex]
image:
  path: /images/abstract-6.jpg
  feature: abstract-6.jpg
---


#### 一些小技巧(连续多行执行命令)

    ```
    :7,$d    "从第7行开始，一直删除到最后, $代表最后一行
    :.,.+3d  "删除当前行，以及之后的三行, 总共会删除4行 .代表当前光标所在行，.+3 就是当前行往下偏移3行
    :.,.-4d  "删除当前行，以及之前的四行, .-4 就是当前行往上偏移4行
    :.,.+3 co .-8 "把当前行和下面的3行，复制到当行往上数8行的地方 ,co是copy的简写，也可以简写为t
    :/<html>/,/<\/html>/s/diy/div  "用模式指定范围，`:{start},{end}` {start}地址是模式/<html>/,而{end}地址的模式是/</\html>/;把html标签之内的diy改为div
    :%s/aa/bb/g "把文档中所有的aa替换为bb，%为整个文档，相当于1,$
    :.,+3 t 'a   "复制到标记a所在的行; 添加标记，normal模式下m+{字母}，比如mm ma,在当前行标记m或a
    ```

#### 命令行窗口

    在命令行窗口中，可以用vim的方法移动光标，编辑历史命令。历史命令的数量可以通过`set history = 2000` 去记录
    即使退出vim,再次打开，这些历史记录依旧存在
    在命令行窗口中按下回车键`<CR>`，就会把当前行的内容的当作Ex命令进行执行（执行的对象是指调出命令窗口前的、处于活动的窗口)。

    - 打开命令行窗口
        normal模式下，
            输入`q:`就可以打开一个Ex命令历史的命令行窗口
            输入`q/`就可以打开一个查找命令历史的命令行窗口
        当在编写Ex命令时，需要更强大的编辑能力，使用`<Ctrl+f>`可以切换到命令行窗口中，而且

    - 退出命令行窗口
    `:q` 或者`<CR>`

    

