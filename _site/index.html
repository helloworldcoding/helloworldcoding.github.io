<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>If not now,when ? &#8211; Hello world, Let's Coding!</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="If not now,when ?">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="http://localhost:4000/">
<meta property="og:site_name" content="Hello world, Let's Coding!">





<link rel="canonical" href="http://localhost:4000/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Hello world, Let's Coding! Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<!-- Webfonts -->
<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">


<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/guoguo.jpg" alt="Helloworldcoding photo" class="author-photo">
					<h4>Helloworldcoding</h4>
					<p>Do what you love to do,and make some change!</p>
				</li>
				<li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:runningele@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				
				
				
				
				<li>
					<a href="https://github.com/helloworldcoding"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/posts/">All Posts</a></li>
				<li><a href="http://localhost:4000/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://localhost:4000/theme-setup/" >Theme Setup</a></li>
	  
	    
	    <li><a href="http://mademistakes.com" target="_blank">External Link</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img src="http://localhost:4000/images/abstract-1.jpg" alt="If not now,when ?">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Hello world, Let's Coding!</h1>
      <h2>If not now,when ?</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2019-01-26T00:00:00+08:00"><a href="http://localhost:4000/vimscript-begin/">January 26, 2019</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Helloworldcoding">Helloworldcoding</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/vimscript-begin/" rel="bookmark" title="Vimscript begin" itemprop="url">Vimscript begin</a></h1>
    
  </header>
  <div class="entry-content">
    <p>既然把vimscript是一个脚本语言，那就会有脚本语言的一些共性，比如变量的定义,变量的类型，变量的作用域，分支循环结构,函数等等。</p>

<h1 id="变量">变量</h1>

<h4 id="变量的定义">变量的定义</h4>

<ul>
  <li>
    <p>一般的变量定义</p>

    <ul>
      <li>
        <p>变量名规范: 字母、数字、下划线，并且不能以数字开头</p>

        <p>:let foo = “bar”
  :let num = 32
  :echo foo num “ 显示foo和num
  :unlet foo “ 销毁一个变量
  以上好像看出vimscript是动态类型，其实,你们想错了。(党国的高官，怎么会有钱？)</p>
      </li>
    </ul>
  </li>
  <li>
    <p>配置选项也是变量</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  比如，我要看配置选项textwidth的值
  :echo &amp;textwidth "需要在前面加上&amp; ,这就告诉vim，你在引用这个选项;如果这个选项不存在，就会报错
  :set textwidth=80
  :echo textwidth "直接输出，也会报错
      E121: Undefined variable: textwidth
      E15: Invalid expression: textwidth
  :echo &amp;textwidth "输出 80

  :set nowrap
  :echo &amp;wrap " 0
  :set wrap
  :echo &amp;wrap " 1
  在vimscript中0为false，非0值整数为true 

  可以用let来设置选项的值，并且let比set更灵活	
  :let &amp;textwidth = &amp;textwidth + 10
  :echo &amp;textwidth " 输出 90
  :set &amp;textwidth = &amp;textwidth + 10 "set 只能给设置一个常量值
      E518: Unknown option: &amp;textwidth = 

  本地选项，将某个选项作为变量来来设置它的本地值，而不是全局值,
  本地变量的前缀:  &lt;code&gt;l:&lt;/code&gt;
  :let &amp;l:number = 0 "只对当前buffer生效,当前buffer，行号消失
</code></pre></div>    </div>
  </li>
  <li>
    <p>寄存器变量</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :let @a="hello!"
  :echo @a "输出 hello!
  :echo @" "输出无名寄存器的值
  :echo @/ "输出，搜索寄存器的值
</code></pre></div>    </div>
  </li>
  <li>
    <p>b:变量前缀(只在当前buffer生效的变量)</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :let b:hello = "world"
  :echo b:hello " 输出world
  切换到另一个buffer
  :echo b:hello 
      E121: Undefined variable: b:hello
      E15: Invalid expression: b:hello
</code></pre></div>    </div>
  </li>
  <li>
    <p>help internal-variables</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">变量前缀</th>
      <th style="text-align: left">名称</th>
      <th style="text-align: left">说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">b:</td>
      <td style="text-align: left">buffer-variable</td>
      <td style="text-align: left">Local to the current buffer.</td>
    </tr>
    <tr>
      <td style="text-align: left">w:</td>
      <td style="text-align: left">window-variable</td>
      <td style="text-align: left">Local to the current window.</td>
    </tr>
    <tr>
      <td style="text-align: left">t:</td>
      <td style="text-align: left">tabpage-variable</td>
      <td style="text-align: left">Local to the current tab page.</td>
    </tr>
    <tr>
      <td style="text-align: left">g:</td>
      <td style="text-align: left">global-variable</td>
      <td style="text-align: left">Global.</td>
    </tr>
    <tr>
      <td style="text-align: left">l:</td>
      <td style="text-align: left">local-variable</td>
      <td style="text-align: left">Local to a function.</td>
    </tr>
    <tr>
      <td style="text-align: left">s:</td>
      <td style="text-align: left">script-variable</td>
      <td style="text-align: left">Local to a |:source|’ed Vim script.</td>
    </tr>
    <tr>
      <td style="text-align: left">a:</td>
      <td style="text-align: left">function-argument</td>
      <td style="text-align: left">Function argument (only inside a function).</td>
    </tr>
    <tr>
      <td style="text-align: left">v:</td>
      <td style="text-align: left">vim-variable</td>
      <td style="text-align: left">Global, predefined by Vim.</td>
    </tr>
  </tbody>
</table>

<h1 id="分支结构">分支结构</h1>
<h3 id="条件语句">条件语句</h3>

<ul>
  <li>
    <p>多行命令，写成一行。用管道符(|)来隔开命令</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :echom "foo" | echom "bar"
  :if 1 | :echom "one" | :else | :echom "not one" | :endif " 输出 one
  :if 0 | echom "one" | else | echom "not one" | endif " 输出not one
</code></pre></div>    </div>
  </li>
  <li>
    <p>if的用法</p>

    <ul>
      <li>必要情况下(数学计算、条件表达式)，vim强制转换变量和字面量的类型。10+”20foo” 最后等于10+20 = 30</li>
      <li>
        <p>以数字开头的字符串会转化为数字，否则会转化为0</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :echo 0+"12.64ab" "输出12
  :echo 0+"-12.34ab" "输出-12
</code></pre></div>        </div>
      </li>
      <li>
        <p>if判断时，非零整数为true，0为false</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  let a = 3
  if a == 1
      echom "one"
  elseif  a == 2
      echom "two"
  else
      echom "not one or two"
  endif
  "最后输出 not one or two

  if "string"  "等价于 if 0
      echom "zero"
  endif

  if "12Ab" ==# "12ab"
      echom "yeshi"
  else
      echom "no"  " 输出 no, 说明 ==# 没有进行强制转化
  endif
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">比较运算符</th>
      <th style="text-align: left">说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">&gt;</td>
      <td style="text-align: left">大于,如 10 &gt;1</td>
    </tr>
    <tr>
      <td style="text-align: left">&lt;</td>
      <td style="text-align: left">小于,如 1 &lt; 10</td>
    </tr>
    <tr>
      <td style="text-align: left">==</td>
      <td style="text-align: left">相等，如 10 == 11 ,”foo” == “bar”,会受用户设置noignorecase/ignorecase影响</td>
    </tr>
    <tr>
      <td style="text-align: left">==?</td>
      <td style="text-align: left">字符串比较，大小写不敏感(无论vim对大小写的设置是否敏感),”foo” ==? “FOO” is true</td>
    </tr>
    <tr>
      <td style="text-align: left">==#</td>
      <td style="text-align: left">字符串比较，大小写敏感(无论vim对大小写的设置是否敏感),”foo” ==# “FOO” is false</td>
    </tr>
    <tr>
      <td style="text-align: left">&gt;#</td>
      <td style="text-align: left">大于， 区分大小写的比较</td>
    </tr>
    <tr>
      <td style="text-align: left">&lt;#</td>
      <td style="text-align: left">小于， 区分大小写的比较</td>
    </tr>
    <tr>
      <td style="text-align: left">&gt;?</td>
      <td style="text-align: left">大于， 不区分大小写的比较</td>
    </tr>
    <tr>
      <td style="text-align: left">&lt;?</td>
      <td style="text-align: left">小于， 不区分大小写的比较</td>
    </tr>
  </tbody>
</table>

<p>所以最好使用==#来比较字符串,统一自己的规范</p>

<h1 id="函数">函数</h1>

<h4 id="没有作用域限制的vimscript函数必须以一个大写字母开头">没有作用域限制的vimscript函数，必须以一个大写字母开头</h4>

<div class="language-vimscript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> Hello<span class="p">()</span>
	<span class="k">echom</span> <span class="s2">"helloworld"</span>
<span class="k">endfunction</span>
<span class="k">call</span> Hello<span class="p">()</span>

<span class="k">function</span> SayHi<span class="p">(</span>name<span class="p">)</span>
	<span class="k">if</span> <span class="nv">a:name</span> <span class="p">==</span># <span class="s2">"Mark"</span>
		<span class="k">return</span> <span class="s2">"Hi,Mark"</span>
	<span class="k">endif</span>
<span class="k">endfunction</span>
<span class="k">echom</span> SayHi<span class="p">()</span> " 函数如果没有返回，默认是<span class="k">return</span> <span class="m">0</span>

<span class="c">"可变参数</span>
<span class="k">function</span> Multiargs<span class="p">(...)</span>
	<span class="k">echom</span> <span class="nv">a:0</span> "参数数量<span class="p">,</span>可变参数的数量
	<span class="k">echom</span> <span class="nv">a:1</span> "第一个参数
	<span class="k">echom</span> <span class="nv">a:2</span> "第二个参数
<span class="k">endfunction</span>
<span class="c">"可变参数和普通参数一起使用</span>
<span class="k">function</span> Multiargs2<span class="p">(</span>foo<span class="p">,...)</span>
	<span class="k">echom</span> <span class="nv">a:0</span> 
	<span class="k">echom</span> <span class="nv">a:foo</span>
	<span class="k">echom</span> <span class="nv">a:1</span>
	<span class="k">echom</span> <span class="nv">a:2</span>
	<span class="k">for</span> s <span class="k">in</span> <span class="nv">a:000</span> "<span class="nv">a:000</span><span class="p">,</span>所有的可变参数
		<span class="k">echom</span> <span class="s1">' '</span><span class="p">.</span>s
	<span class="k">endfor</span>
<span class="k">endfunction</span>
<span class="k">call</span> Multiargs2<span class="p">(</span><span class="s2">"hh"</span><span class="p">,</span><span class="s2">"jak"</span><span class="p">,</span><span class="s2">"luc"</span><span class="p">)</span>
输出：
<span class="m">2</span>
hh
jak
luc
 jak
 luc
可见<span class="nv">a:0</span><span class="p">,</span>只是代表可变参数的数量

<span class="c">"函数参数是只读的，不能在函数内部改变</span>
<span class="k">function</span> Assign<span class="p">(</span>foo<span class="p">)</span>
	<span class="k">let</span> <span class="nv">a:foo</span> <span class="p">=</span> <span class="s2">"Nope"</span>  
<span class="k">endfunction</span>
<span class="k">call</span> Assign<span class="p">()</span> 会报错，如下：
E46<span class="p">:</span> Cannot change <span class="k">read</span><span class="p">-</span><span class="k">only</span> variable <span class="s2">"a:foo"</span>
</code></pre></div></div>

<h1 id="数据类型">数据类型</h1>

<h4 id="数字">数字</h4>

<ul>
  <li>
    <p>整数(Number,32位带符号整数)</p>
  </li>
  <li>
    <p>浮点
对大部分命令和选项，vim支持他们的缩写。但是建议在vimrc或者自己编写的插件中使用全称，这样才会有更好的可读性。</p>
  </li>
</ul>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2019-01-23T00:00:00+08:00"><a href="http://localhost:4000/vimscript-note-1/">January 23, 2019</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Helloworldcoding">Helloworldcoding</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~6 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/vimscript-note-1/" rel="bookmark" title="Some note about vimrc" itemprop="url">Some note about vimrc</a></h1>
    
  </header>
  <div class="entry-content">
    <h3 id="启动vim不加载vimrc">启动vim不加载.vimrc</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim -u NONE -N    -N 就是和vi不兼容
-u &lt;vimrc&gt;		Use &lt;vimrc&gt; instead of any .vimrc
-N			Not fully Vi compatible: 'nocompatible' ### 注释 

"  这就是注释,双引号之后的就是注释内容
但是下面的注释会失效。。
:map &lt;space&gt; viw " 按下空格键高亮选中一个单词	

所以vim的注释，最好不要行末添加
</code></pre></div></div>

<h3 id="切换布尔选项">!切换布尔选项</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:set number!   或:set nu!
</code></pre></div></div>

<h3 id="查看配置的值">?查看配置的值</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:set fileencoding? 返回fileencoding=utf-8
:set number? 返回 number 或 nonumber
</code></pre></div></div>

<h3 id="键盘映射">键盘映射</h3>

<ul>
  <li>
    <p>normal模式下的简单映射</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :map - dd   按下 - 就相当于dd，会删除一行
  也可以用&lt;keyname&gt;来告诉vim一个特殊的按键
  :map &lt;space&gt; viw  按下空格，vim将高亮选中一个单词
	
  :unmap - 取消-的映射
  :unmap &lt;space&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>nmap 在normal模式下的映射</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :nmap - ddp
  取消映射
  :nunmap -
</code></pre></div>    </div>
  </li>
  <li>
    <p>vmap 在visual模式下的映射</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  visual模式下，按下\,会把小写字母变大写
  :vmap \ U 
  取消映射
  :vunmap \
</code></pre></div>    </div>
  </li>
  <li>
    <p>imap 在insert模式下的映射</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  在insert模式下，ctrl+d 会删除一行
  :imap &lt;c-d&gt; &lt;esc&gt;ddi   
  取消映射
  :iunmap &lt;c-d&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>映射可能会出现递归调用</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :nmap - dd
  :namp \ -
  在normal模式下，按下\,vim会解释为-,而 -会继续被解析为 dd，最后就是删除了一行
</code></pre></div>    </div>
  </li>
  <li>
    <p>非递归映射*noremap</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :nmap x dd
  :nnoremap \ x
  当按下\ 就是x，删除一个字符，vim不会把x再解析为dd

  ** 应该在所有的情况下使用 noremap **
  " insert mode下jj --&gt; &lt;esc&gt;
  inoremap jj &lt;esc&gt;
  noremap/nnoremap , vnoremap, inoremap
  取消非递归映射(和取消递归映射的方法一样)
  :unnmap  \

  :map x &lt;nop&gt; 就会让按键x失效

  :nnoremap &lt;buffer&gt; Q x 只在当前缓冲区生效
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="leaders导航键">Leaders(导航键?)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim默认的leader是\

:let mapleader = "-"  把leader键设置为-
在配置文件的其他地方，就用&lt;leader&gt;,而不是"-"

local leader 这个leader只用于那些对某类文件(python,html)而设置的映射

:let maplocalleader = "\\"  把loacalleader设置为\,以为\\会转意为\
如果要设定一个只会用户特定缓冲区的映射，一般会使用 &lt;localleader&gt;,而不是&lt;leader&gt;
使用&lt;leader&gt;和&lt;localleader&gt;按键就像设置了一种命名空间,
用&lt;localleader&gt;来设置本地映射，会防止你的插件覆盖别人的全局映射

打开vimrc文件
nnoremap &lt;leader&gt;ev :vsplit $MYVIMRC&lt;cr&gt;
重新加载vimrc文件
nnoremap &lt;leader&gt;sv :source $MYVIMRC&lt;cr&gt;
</code></pre></div></div>

<h3 id="abbreviations">Abbreviations</h3>

<p>在一个abbrevivation后输入一个 non-keyword character后，vim会替换那个abbrevivation
not-keyword character指的是那些不在iskeyword选项中的字符(iskeyword=@,48-57,_,192-255)</p>

<ul>
  <li>
    <p>insert模式下的abbrevivations</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  :iabbrev adn and
  :iabbrev ture true
</code></pre></div>    </div>
  </li>
  <li>
    <p>replace模式下的abbrevivations</p>
  </li>
  <li>
    <p>command模式下的abbrevivations</p>
  </li>
</ul>

<h3 id="自动命令">自动命令</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:autocmd BufNewFile * :write  "该命令会在打开一个文件后，自动自动保存
         ^          ^ ^
         |          | |
         |          | 要执行的命令
         |          | 
         |          用于事件过滤的"模式pattern" 
         |           
         要监听的事件          

:autocmd BufNewFile *.php :write  只会保存php文件
:autocmd BufWritePre *.html :normal gg=G  在保存html文档之前，先格式化
多个事件用逗号分隔
:autocmd BufNewFile,BufRead *.html setlocal nowarp
vim脚本编程中，一般会同时使用BufRead和BufNewFile
</code></pre></div></div>

<ul>
  <li>
    <p>FileType 事件</p>

    <p>针对不同的文件，设置一些有用的映射,比如注释
  可以设置localleader为,,
  :let maplocalleader=”,,”
  :autocmd FileType erlang nnoremap <buffer> <localleader>c I%%<esc>
  然后打开一个erlang文件，normal模式下，按下,,c 就可以注释一行</esc></localleader></buffer></p>
  </li>
  <li>
    <p>本地缓冲区缩写</p>

    <p>:iabbrev <buffer> --- test  对当前缓冲区生效，会覆盖如下的全局设置
  :iabbrev  --- tes2   会话的所有缓冲区都生效，但是优先级没有<buffer>定义的缩写高</buffer></buffer></p>

    <p>:autocmd FileType php :iabbrev <buffer> iff if () {<cr>}<cr><esc>kkA<left><left><left>
  :sleep 10m 睡眠10ms</left></left></left></esc></cr></cr></buffer></p>
  </li>
</ul>

<h3 id="自动命令组grouping-autocommands">自动命令组Grouping Autocommands</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:aug[roup] {name}  group name 大小写敏感
	...
:augroup end/END

:augroup testgroup
:autocmd BufWrite * : echom "foo"
:autocmd BufWrite * : echom "bar"
:augroup END

定义两个名称相同的命令组，一般情况下，后面定义的不会覆盖前面的,除非把autocmd!放在组里
:augroup testgroup
:autocmd!
:autocmd BufWrite * : echom "test"
:augroup END

更多详情： :help autocmd-groups
</code></pre></div></div>

<h3 id="operator-pending映射">Operator-Pending映射</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:help omap-info 	

Operator-pending mappings can be used to define a movement command that can be
used with any operator.  Simple example: ":omap { w" makes "y{" work like "yw"
and "d{" like "dw".

:onoremap { :&lt;c-u&gt;normal! 0f{vi{&lt;cr&gt;   "在包含{}的一行，执行d{、c{、y{  就可以删除/改变/复制{}之间的内容
:onoremap ( :&lt;c-u&gt;normal! 0f(vi(&lt;cr&gt;  "在包含()的一行，执行d(、c(、y(  就可以删除/改变/复制()之间的内容 

The CTRL-U (&lt;C-U&gt;) is used to remove the range that Vim may insert. 


:onoremap ih :&lt;c-u&gt;execute "normal! ?^==\\+$\r:nohlsearch\rkvg_"&lt;cr&gt;

normal! 可以执行一些命令，但是遇到特殊字符就不行了，比如&lt;cr&gt;
execute 把后面的字符串当作命令来执行。特殊字符需要转义,如\r代表回车 \\代表\

g_: 移动到当前行的最后一个非空字符。$会选中最后一个换行符
</code></pre></div></div>

<h3 id="状态条statusline">状态条statusline</h3>

<p>statusline可以展示一些当前buffer内文件的信息，比如文件名称%f,完整路径%F, %m如果缓冲区内容修改表示为[+]
默认情况下，statusline是隐藏的。显示： <code>:set laststatus=2</code>,隐藏 <code>:set laststatus=0</code></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">定制项目</th>
      <th style="text-align: left">参数意义</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">%f</td>
      <td style="text-align: left">文件名称</td>
    </tr>
    <tr>
      <td style="text-align: left">%F</td>
      <td style="text-align: left">文件完整路径,我觉得这个完整路径有助于回答,我在哪里?</td>
    </tr>
    <tr>
      <td style="text-align: left">%m</td>
      <td style="text-align: left">如果缓冲区内容发生改变表示为[+],有助于你提醒自己，你在做什么？</td>
    </tr>
    <tr>
      <td style="text-align: left">%n</td>
      <td style="text-align: left">缓冲区号,</td>
    </tr>
    <tr>
      <td style="text-align: left">%y</td>
      <td style="text-align: left">文件类型，不过我觉得如果输出了文件名，这个有点多余</td>
    </tr>
    <tr>
      <td style="text-align: left">%v</td>
      <td style="text-align: left">虚列号</td>
    </tr>
    <tr>
      <td style="text-align: left">%l</td>
      <td style="text-align: left">行号</td>
    </tr>
    <tr>
      <td style="text-align: left">%L</td>
      <td style="text-align: left">总行数</td>
    </tr>
    <tr>
      <td style="text-align: left">%=</td>
      <td style="text-align: left">之后的状态都是右对齐,在这个之前是左对齐</td>
    </tr>
    <tr>
      <td style="text-align: left">%{expr}</td>
      <td style="text-align: left">表达式的结果，可以用这个定制很多特性的状态</td>
    </tr>
  </tbody>
</table>

<p>我的statusline设置</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set statusline=buf%n\ %m
set statusline+=\ %l,%v/%L
set statusline+=\ %{&amp;fileencoding?&amp;fileencoding:&amp;encoding} "文件编码
set statusline+=\ [%{&amp;fileformat}] "文件类型
set statusline+=\ %{(exists(\"bomb\")\ &amp;&amp;\ &amp;bomb)?\"Bom\":\"\"} "如果有bomb头，就会显示Bom
set statusline+=%{StatuslineGit()} "显示git分支名称,需要定义如下两个函数
set statusline+=\ %F

function! GitBranch()
  return system("git rev-parse --abbrev-ref HEAD 2&gt;/dev/null | tr -d '\n'")
endfunction

function! StatuslineGit()
  let l:branchname = GitBranch()
  return strlen(l:branchname) &gt; 0?'  '.l:branchname.' ':''
endfunction


\&lt;space&gt; 是空格
最后的效果如下：
buf1  223,5/365 utf-8 [unix]   master  ~/Documents/github.io/_posts/2019-01-23-vimscript-note-1.md
</code></pre></div></div>

<h3 id="autocmd-所有的事件">autocmd 所有的事件</h3>

<ul>
  <li>:help autocmd-events</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Name			triggered by ~

	Reading
|BufNewFile|		starting to edit a file that doesn't exist
|BufReadPre|		starting to edit a new buffer, before reading the file
|BufRead|		starting to edit a new buffer, after reading the file
|BufReadPost|		starting to edit a new buffer, after reading the file
|BufReadCmd|		before starting to edit a new buffer |Cmd-event|

|FileReadPre|		before reading a file with a ":read" command
|FileReadPost|		after reading a file with a ":read" command
|FileReadCmd|		before reading a file with a ":read" command |Cmd-event|

|FilterReadPre|		before reading a file from a filter command
|FilterReadPost|	after reading a file from a filter command

|StdinReadPre|		before reading from stdin into the buffer
|StdinReadPost|		After reading from the stdin into the buffer

	Writing
|BufWrite|		starting to write the whole buffer to a file
|BufWritePre|		starting to write the whole buffer to a file
|BufWritePost|		after writing the whole buffer to a file
|BufWriteCmd|		before writing the whole buffer to a file |Cmd-event|

|FileWritePre|		starting to write part of a buffer to a file
|FileWritePost|		after writing part of a buffer to a file
|FileWriteCmd|		before writing part of a buffer to a file |Cmd-event|

|FileAppendPre|		starting to append to a file
|FileAppendPost|	after appending to a file
|FileAppendCmd|		before appending to a file |Cmd-event|

|FilterWritePre|	starting to write a file for a filter command or diff
|FilterWritePost|	after writing a file for a filter command or diff

	Buffers
|BufAdd|		just after adding a buffer to the buffer list
|BufCreate|		just after adding a buffer to the buffer list
|BufDelete|		before deleting a buffer from the buffer list
|BufWipeout|		before completely deleting a buffer

|BufFilePre|		before changing the name of the current buffer
|BufFilePost|		after changing the name of the current buffer

|BufEnter|		after entering a buffer
|BufLeave|		before leaving to another buffer
|BufWinEnter|		after a buffer is displayed in a window
|BufWinLeave|		before a buffer is removed from a window

|BufUnload|		before unloading a buffer
|BufHidden|		just after a buffer has become hidden
|BufNew|		just after creating a new buffer

|SwapExists|		detected an existing swap file

	Options
|FileType|		when the 'filetype' option has been set
|Syntax|		when the 'syntax' option has been set
|EncodingChanged|	after the 'encoding' option has been changed
|TermChanged|		after the value of 'term' has changed
|OptionSet|		after setting any option

	Startup and exit
|VimEnter|		after doing all the startup stuff
|GUIEnter|		after starting the GUI successfully
|GUIFailed|		after starting the GUI failed
|TermResponse|		after the terminal response to |t_RV| is received

|QuitPre|		when using `:quit`, before deciding whether to quit
|VimLeavePre|		before exiting Vim, before writing the viminfo file
|VimLeave|		before exiting Vim, after writing the viminfo file

	Various
|FileChangedShell|	Vim notices that a file changed since editing started
|FileChangedShellPost|	After handling a file changed since editing started
|FileChangedRO|		before making the first change to a read-only file

|ShellCmdPost|		after executing a shell command
|ShellFilterPost|	after filtering with a shell command

|CmdUndefined|		a user command is used but it isn't defined
|FuncUndefined|		a user function is used but it isn't defined
|SpellFileMissing|	a spell file is used but it can't be found
|SourcePre|		before sourcing a Vim script
|SourceCmd|		before sourcing a Vim script |Cmd-event|

|VimResized|		after the Vim window size changed
|FocusGained|		Vim got input focus
|FocusLost|		Vim lost input focus
|CursorHold|		the user doesn't press a key for a while
|CursorHoldI|		the user doesn't press a key for a while in Insert mode
|CursorMoved|		the cursor was moved in Normal mode
|CursorMovedI|		the cursor was moved in Insert mode

|WinNew|		after creating a new window
|TabNew|		after creating a new tab page
|TabClosed|		after closing a tab page
|WinEnter|		after entering another window
|WinLeave|		before leaving a window
|TabEnter|		after entering another tab page
|TabLeave|		before leaving a tab page
|CmdwinEnter|		after entering the command-line window
|CmdwinLeave|		before leaving the command-line window

|InsertEnter|		starting Insert mode
|InsertChange|		when typing &lt;Insert&gt; while in Insert or Replace mode
|InsertLeave|		when leaving Insert mode
|InsertCharPre|		when a character was typed in Insert mode, before
			inserting it

|TextChanged|		after a change was made to the text in Normal mode
|TextChangedI|		after a change was made to the text in Insert mode
|TextYankPost|		after text is yanked or deleted

|ColorScheme|		after loading a color scheme

|RemoteReply|		a reply from a server Vim was received

|QuickFixCmdPre|	before a quickfix command is run
|QuickFixCmdPost|	after a quickfix command is run

|SessionLoadPost|	after loading a session file

|MenuPopup|		just before showing the popup menu
|CompleteDone|		after Insert mode completion is done

|User|			to be used in combination with ":doautocmd"


</code></pre></div></div>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2019-01-23T00:00:00+08:00"><a href="http://localhost:4000/devops-flow/">January 23, 2019</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Helloworldcoding">Helloworldcoding</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/devops-flow/" rel="bookmark" title="A devops flow" itemprop="url">A devops flow</a></h1>
    
  </header>
  <div class="entry-content">
    <div class="mermaid">
graph TB
	
	subgraph devops
		test(("fa:fa-users Test"))
		dev(("fa:fa-user Dev"))
		ops(("Ops"))
		branch("branch")

		dev --&gt;|创建分支| branch
		branch --&gt;|jenkins| jenkins["jenkins"]
	end
	
	tes1t["fa:fa-camera-retro:5x Camera"]

	jenkins["fa:fa-futbol:fa-5x Iggool"]

     classDef green fill:#9f6,stroke:#333,stroke-width:2px;
     classDef orange fill:#f96,stroke:#333,stroke-width:4px;
     class sq,e green
     class di orange

</div>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2019-01-22T00:00:00+08:00"><a href="http://localhost:4000/vim-some-skills/">January 22, 2019</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Helloworldcoding">Helloworldcoding</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/vim-some-skills/" rel="bookmark" title="Some Vim skills" itemprop="url">Some Vim skills</a></h1>
    
  </header>
  <div class="entry-content">
    <h4 id="编辑后发现需要root权限">编辑后，发现需要root权限</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:w ! sudo tee %
</code></pre></div></div>

<h4 id="做计算">做计算</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>insert模式，ctrl+r =3600*24*7
</code></pre></div></div>

<h4 id="查看字符ascii码16进制8进制">查看字符ascii码,16进制，8进制</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>common模式，ga 查看光标下的字符的ascii码	
</code></pre></div></div>

<h4 id="插入unicode字符">插入unicode字符</h4>
<h4 id="大小写转换">大小写转换</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~          将光标下的字母改变大小写
3m~         将光标位置开始的3个字母改变其大小写
g~~        改变当前行字母的大小写
U          将可视模式下选择的字母全改成大写字母
u          将可视模式下选择的字母全改成小写
gUU        将当前行的字母改成大写
3gUU       将从光标开始到下面3行字母改成大写
guu       将当前行的字母全改成小写
gUw       将光标下的单词改成大写。
guw       将光标下的单词改成小写。
</code></pre></div></div>

<h4 id="insert-mode-缩进">Insert mode 缩进</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ctrl+t &gt;	
crtl+d &lt;
</code></pre></div></div>

<h4 id="的作用">!的作用</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 切换布尔选项，:set number!
- 执行shell命令 :! ls
</code></pre></div></div>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2019-01-22T00:00:00+08:00"><a href="http://localhost:4000/php-unit-test-note2/">January 22, 2019</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Helloworldcoding">Helloworldcoding</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/php-unit-test-note2/" rel="bookmark" title="Dependence and Data Provider in PHPUnit" itemprop="url">Dependence and Data Provider in PHPUnit</a></h1>
    
  </header>
  <div class="entry-content">
    <h3 id="牛人的话翻译后">牛人的话(翻译后)</h3>

<p>Adrian Kuhn et.al:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>写单元测试是一个非常好的做法，帮助开发定位和修复bug，重构代码并作为测试软件的一个单元的文档。
为了能达到这个效果，单元测试要考虑到程序中所有路径。一个方法或函数通常只覆盖一个特殊的路径。
然而，一个测试方法并不是一个封闭的，独立的实体。通常在测试方法之间的隐式依赖，就藏在某个测试场景的实现中。
</code></pre></div></div>

<h3 id="test-dependencies">Test Dependencies</h3>

<ul>
  <li>producer: 返回值给其他方法使用的方法</li>
  <li>consumer: 依靠别的方法和它们的返回值的方法</li>
  <li>一个方法，可以兼顾这个两个角色</li>
  <li>consumer方法需要在方法注释中标注@depends testFunc</li>
  <li>一个consumer方法可以一个或多个@depends,当有多个@depends时，@depends的声明顺序就是consumer参数顺序
    <ul>
      <li>参数的传递，默认是引用传参</li>
      <li>@depends clone 就是深复制，传值传参</li>
      <li>@depends shallowClone 浅复制</li>
    </ul>
  </li>
  <li>consumer方法有多个@depends时，要确保这些producer方法要写在consumer的前面，不然就会出现skip</li>
</ul>

<p>代码如下：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MultipleDependenciesTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerFirst</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
		<span class="k">return</span> <span class="s1">'first'</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerSecond</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
		<span class="k">return</span> <span class="s1">'second'</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="sd">/**
	 * @depends testProducerFirst
	 * @depends testProducerSecond
	 */</span>
	<span class="k">public</span> <span class="k">function</span> <span class="nf">testConsumer</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'first'</span><span class="p">,</span> <span class="nv">$a</span><span class="p">);</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'second'</span><span class="p">,</span> <span class="nv">$b</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="data-providers">Data Providers</h3>

<ul>
  <li>某个方法的注释中用 <code>@dataProvider </code>这个特殊注释 标识了某个方法，则这个方法就是data provider
    <ul>
      <li>如<code>@dataProvider testFunc</code> testFunc就是data provider</li>
    </ul>
  </li>
  <li>data provider返回值必须要是n维数组(n&gt;=2),或可以迭代的对象(Iterator),并且这个对象每一次迭代都要返回一个数组</li>
  <li>测试方法的参数可以由一个或多个data provider 提供</li>
  <li>
    <p>当测试方法同时有@dataProvider和@depends时，@dataProvider的参数要先于@depends</p>
  </li>
  <li>demo</li>
</ul>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DependencyAndDataProviderComboTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="k">function</span> <span class="nf">provider</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="p">[[</span><span class="s1">'provider1'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'provider2'</span><span class="p">]];</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerFirst</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
		<span class="k">return</span> <span class="s1">'first'</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerSecond</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
		<span class="k">return</span> <span class="s1">'second'</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="sd">/**
	 * @depends testProducerFirst
	 * @depends testProducerSecond
	 * @dataProvider provider
	 */</span>
	<span class="k">public</span> <span class="k">function</span> <span class="nf">testConsumer</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span>
			<span class="p">[</span><span class="s1">'provider1'</span><span class="p">,</span> <span class="s1">'first'</span><span class="p">,</span> <span class="s1">'second'</span><span class="p">],</span>
			<span class="nb">func_get_args</span><span class="p">()</span>
			<span class="sd">/**
			func_get_args()依次是
			['provider1', 'first', 'second'],
			['provider2', 'first', 'second']
			因为 provider迭代了两次，第一次返回['provider1'], 字符串'provider1'就传递给了testConsumer，作为第一个参数，
			**/</span>
		<span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    

    
    
      <li><strong class="current-page">1</strong></li>
    

    
    

    
    
    

    
      
        
        
        
        <li><a href="http://localhost:4000/page2/">2</a></li>
      
    

    
    

    
      <li><a href="http://localhost:4000/page3/">3</a></li>
    

    
    
      <li><a href="http://localhost:4000/page2/" class="btn">Next</a></li>
    
  </ul>
</div>


</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2019 Helloworldcoding. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>






<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132764148-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-132764148-1');
</script>



          

</body>
</html>